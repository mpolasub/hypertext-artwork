<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matthew Polasub Hypertext Artwork</title>
    <link rel="stylesheet" href="styles.css">
    <style>
    .container {
        width: 90vw;
        height: 90vh;
        position: relative;
        overflow: hidden;
    }

    #movingImage {
        width: 15rem;
        height: 15rem;
        position: absolute;
        cursor: pointer;
        /* Center the image initially */
        left: 45%;  /* 50% - (image width/2) */
        top: 40%;   /* 50% - (image height/2) */
        transition: transform 1s ease;
    }

    @keyframes moveCircle {
      /* Start at center */
      0% {
        transform: translate(0, 0);
      }
      /* Move to right edge of circle */
      5% {
        transform: translate(50%, 0);
      }
      10% {
        transform: translate(100%, 0);
      }
      /* Start circular motion clockwise */
      15% {
        transform: translate(96.6%, 25.8%);
      }
      20% {
        transform: translate(86.6%, 50%);
      }
      25% {
        transform: translate(70.7%, 70.7%);
      }
      30% {
        transform: translate(50%, 86.6%);
      }
      35% {
        transform: translate(25.8%, 96.6%);
      }
      40% {
        transform: translate(0, 100%);
      }
      45% {
        transform: translate(-25.8%, 96.6%);
      }
      50% {
        transform: translate(-50%, 86.6%);
      }
      55% {
        transform: translate(-70.7%, 70.7%);
      }
      60% {
        transform: translate(-86.6%, 50%);
      }
      65% {
        transform: translate(-96.6%, 25.8%);
      }
      70% {
        transform: translate(-100%, 0);
      }
      /* Stop at 75% of circle (9 o'clock position) */
      75% {
        transform: translate(-96.6%, -25.8%);
      }
      80% {
        transform: translate(-86.6%, -50%);
      }
      /* Return to center */
      100% {
        transform: translate(0, 0);
      }
    }

    .moving {
        animation: moveCircle 10s linear;
        animation-play-state: running;
    }

    .return {
        transform: translate(0, 0) !important;
    }
    </style>
</head>
<body>
    <div class="container">
    <img id="movingImage" src="assets/naut.png" alt="Moving image">
    <img id="visitMoon" src="assets/MOOON.png">
    <img id="sat" src="assets/satellite.png">
    <img id="earf" src="assets/earf.png">

    </div>

    <script>
    const image = document.getElementById('movingImage');
    let leaveTimeout;
    
    image.addEventListener('mouseenter', () => {
        if (leaveTimeout) {
        clearTimeout(leaveTimeout);
        leaveTimeout = null;
        }
        
        image.classList.remove('return');
        image.classList.add('moving');
        
        image.addEventListener('animationend', () => {
        const computedStyle = window.getComputedStyle(image);
        image.style.transform = computedStyle.transform;
        image.classList.remove('moving');
        }, { once: true });
    });

    image.addEventListener('mouseleave', () => {
        leaveTimeout = setTimeout(() => {
        image.classList.add('return');
        }, 5000);
    });
    </script>
</body>
</html>